(this["webpackJsonpproject-management-client"]=this["webpackJsonpproject-management-client"]||[]).push([[0],{26:function(e,t,s){},37:function(e,t,s){},39:function(e,t,s){},47:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s.n(n),r=s(17),i=s.n(r),o=(s(47),s(5)),l=s(6),d=s(8),h=s(7),j=(s(26),s(10)),b=s(21),u=s(2),p=s(20),m=s.n(p),g=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,s){return t.service.post("/signup",{username:e,password:s})},this.login=function(e,s){return t.service.post("/login",{username:e,password:s})},this.logout=function(){return t.service.post("/logout")},this.loggedin=function(){return t.service.get("/loggedin")};var s=m.a.create({baseURL:"".concat("https://myfirstschool.herokuapp.com","/api"),withCredentials:!0});this.service=s},O=(s(37),s(18)),x=s(22),v=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={show:!1,username:"",password:""},e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(O.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault();var s=e.state,a=s.username,n=s.password;(new g).login(a,n).then((function(t){e.props.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data._id),e.props.history.push("/schools")}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u.c,{to:"#",type:"button",variant:"primary",onClick:this.handleShow,children:"Login"}),Object(a.jsxs)(x.a,{show:this.state.show,onHide:this.handleClose,children:[Object(a.jsx)(x.a.Header,{children:Object(a.jsxs)("svg",{onClick:this.handleClose,width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(a.jsx)("path",{fillRule:"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})}),Object(a.jsx)(x.a.Body,{children:Object(a.jsxs)("div",{className:"container-login",children:[Object(a.jsx)("div",{className:"google-oauth",children:Object(a.jsx)(u.c,{activeStyle:{color:"red"},exact:!0,to:"/login-google",children:Object(a.jsxs)("button",{id:"google-btn",className:"btn btn-primary",style:{borderRadius:"15px",height:"9vh",width:"20vw",justifyContent:"space-evenly",display:"flex",alignItems:"center",padding:"5px"},children:[" ",Object(a.jsx)("img",{src:"../../images/google.png",style:{width:"4vw"},alt:"google-logo",className:"google-icon"}),"Google Login"]})})}),Object(a.jsx)("div",{className:"login-signup",children:Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange})," ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{id:"login-btn-google",className:"btn btn-primary",children:"Login"})]})}),Object(a.jsxs)("p",{children:["Don't have account?",Object(a.jsxs)(u.b,{onClick:this.handleClose,to:"/signup",children:[" ","Signup"]})]})]})})]})]})}}]),s}(c.a.Component),f=Object(j.f)(v),N=(s(19),s(11)),y=function(){function e(){Object(o.a)(this,e);var t=m.a.create({baseURL:"".concat("https://myfirstschool.herokuapp.com","/api")});this.service=t}return Object(l.a)(e,[{key:"getAllNurseries",value:function(){return this.service.get("/nurseries")}},{key:"getNurseryId",value:function(e){return this.service.get("/schools/".concat(e))}},{key:"addFavorite",value:function(e,t){return this.service.post("/profile",{user:e,id:t})}},{key:"getFavorites",value:function(e){return this.service.get("/profile/".concat(e))}},{key:"getAll",value:function(){return this.service.get("/allschools")}},{key:"deleteFavorite",value:function(e,t){return this.service.post("/schools/".concat(e),{userId:t})}}]),e}(),w=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={show:!0,favorites:[],searchQuery:"",favoritesToShow:[]},e.closeSearchbar=function(){e.setState({searchQuery:"",favoritesToShow:[]}),e.clickIcon()},e.handleOnChange=function(t){e.setState({searchQuery:t.target.value}),e.handleFilterSchools(e.state.searchQuery)},e.handleFilterSchools=function(t){var s=Object(b.a)(e.state.favorites).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));e.setState({favoritesToShow:s})},e.clickIcon=function(){e.setState({show:!e.state.show})},e.logoutUser=function(){(new g).logout().then((function(){e.props.setCurrentUser(null),localStorage.removeItem("loggedInUser"),Object(N.b)("Logged out")}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;(new y).getAll().then((function(t){e.setState({favorites:t.data})}))}},{key:"render",value:function(){var e=this;return this.props.loggedInUser?Object(a.jsxs)("nav",{className:"navbar sticky-top navbar-light",id:"nav-id2",style:{backgroundColor:"#e3f2fd"},children:[Object(a.jsx)("div",{className:"nav-bar-logo",children:"My First School"}),Object(a.jsxs)("div",{className:"nav-bar-links",children:[Object(a.jsxs)("div",{id:"search",className:this.state.show?"search":"search open",children:[Object(a.jsxs)("svg",{onClick:this.clickIcon,id:"icon",width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),Object(a.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})]}),Object(a.jsxs)("div",{className:"searchbar-div",children:[Object(a.jsx)("input",{style:{bottom:"1.4rem"},onClick:this.clickInput,onChange:function(t){e.handleOnChange(t)},id:"input-nursery",type:"text",placeholder:"search",value:this.state.searchQuery}),Object(a.jsx)("ul",{children:this.state.favoritesToShow.map((function(t,s){return Object(a.jsxs)(u.b,{onClick:e.closeSearchbar,to:{pathname:"/".concat(t._id),state:t},children:[" ",Object(a.jsx)("li",{children:t.name})]},s)}))})]})]}),Object(a.jsx)("div",{id:"overlay",className:"overlay",style:{display:"none"}}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/",children:"Home"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/schools",children:"All Schools"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/nurseries",children:"Nurseries"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/kindergartens",children:"Kindergartens"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/profile/".concat(this.props.loggedInUser._id),children:"Favorites"}),Object(a.jsx)(u.c,{to:"/",onClick:this.logoutUser,children:"Logout"})]})]}):Object(a.jsx)("nav",{className:"navbar sticky-top navbar-light",id:"nav-id",style:{backgroundColor:"#e3f2fd"},children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"nav-bar-logo",children:"My First School"}),Object(a.jsxs)("div",{className:"nav-bar-links",children:[Object(a.jsxs)("div",{id:"search",className:this.state.show?"search":"search open",children:[Object(a.jsxs)("svg",{onClick:this.clickIcon,id:"icon",width:"0.8em",height:"0.8em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),Object(a.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})]}),Object(a.jsxs)("div",{className:"searchbar-div",children:[Object(a.jsx)("input",{onClick:this.clickInput,onChange:function(t){e.handleOnChange(t)},id:"input-nursery",type:"text",placeholder:"search",value:this.state.searchQuery}),Object(a.jsx)("ul",{children:this.state.favoritesToShow.map((function(t,s){return Object(a.jsxs)(u.b,{onClick:e.closeSearchbar,to:{pathname:"/".concat(t._id),state:t},children:[" ",Object(a.jsx)("li",{className:"search-li",children:t.name})]},s)}))})]})]}),Object(a.jsx)("div",{id:"overlay",className:"overlay",style:{display:"none"}}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/",children:"Home"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/schools",children:"All Schools"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/nurseries",children:"Nurseries"}),Object(a.jsx)(u.c,{activeStyle:{color:"#5782ad"},exact:!0,to:"/kindergartens",children:"Kindergartens"}),Object(a.jsx)(f,{setCurrentUser:this.props.setCurrentUser})]})]})})}}]),s}(c.a.Component),k=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:""},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(O.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault(),(new g).signup(e.state.username,e.state.password).then((function(t){e.props.setCurrentUser(t.data),Object(N.b)("Welcome ".concat(e.state.username)),localStorage.setItem("loggedInUser",t.data._id),e.props.history.push("/schools")}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"signup-container",children:[Object(a.jsx)("div",{className:"signup-image",children:Object(a.jsx)("img",{style:{objectFit:"cover"},src:"../../images/annie-spratt-O1TNdLNvJLM-unsplash.jpg",alt:"signup"})}),Object(a.jsxs)("div",{className:"container-login",children:[Object(a.jsx)("div",{className:"google-oauth",children:Object(a.jsxs)("button",{className:"btn btn-primary",id:"google-btn3",style:{borderRadius:"15px",height:"9vh",width:"25vw",justifyContent:"space-evenly",display:"flex",alignItems:"center",padding:"5px"},children:[Object(a.jsx)("img",{src:"../../images/google.png",style:{marginTop:0,width:"4vw"},className:"google-icon",alt:"google-icon"}),Object(a.jsx)(u.c,{activeStyle:{color:"red"},exact:!0,to:"/login-google",children:"Signup with Google"})]})}),Object(a.jsx)("div",{className:"login-signup",children:Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange})," ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"btn btn-primary",id:"login-btn-google",children:"Create"})]})})]})]})}}]),s}(c.a.Component),C=Object(j.f)(k),I=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:""},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(O.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault();var s=e.state,a=s.username,n=s.password;(new g).login(a,n).then((function(t){e.props.setCurrentUser(t.data),Object(N.b)("Welcome ".concat(a)),localStorage.setItem("loggedInUser",t.data._id),e.props.history.push("/schools")}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container-login",children:[Object(a.jsx)("div",{className:"google-oauth",children:Object(a.jsxs)("button",{className:"btn btn-primary",id:"google-btn2",style:{borderRadius:"15px",height:"9vh",width:"20vw",justifyContent:"space-evenly",display:"flex",alignItems:"center",padding:"5px"},children:[Object(a.jsx)("img",{src:"../../images/google.png",style:{width:"4vw"},className:"google-icon",alt:"google-icon"}),Object(a.jsx)(u.c,{activeStyle:{color:"red"},exact:!0,to:"/login-google",children:"Google Login"})]})}),Object(a.jsx)("div",{className:"login-signup",children:Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange})," ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"btn btn-primary",id:"login-btn-google",children:"Login"})]})}),Object(a.jsxs)("p",{children:["Don't have account?",Object(a.jsx)(u.b,{to:"/signup",children:" Signup"})]})]})})}}]),s}(c.a.Component),S=Object(j.f)(I),F=function(){function e(){Object(o.a)(this,e);var t=m.a.create({baseURL:"".concat("https://services.arcgis.com/1dSrzEWVQn5kHHyK/arcgis/rest/services/POIEducacao/FeatureServer/10")});this.service=t}return Object(l.a)(e,[{key:"getAllKindergartens",value:function(){return this.service.get("/query?where=1%3D1&outFields=*&outSR=4326&f=json")}},{key:"getKindergartensId",value:function(){return this.service.get("#")}}]),e}(),A=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={kindergartens:[],nurseries:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new F,s=new y;t.getAllKindergartens().then((function(t){console.log("responseKinder",t),s.getAllNurseries().then((function(s){(new y).getAll().then((function(a){t.data.features.forEach((function(e){a.data.forEach((function(t){"kindergarten"===t.schoolType&&t.GlobalID===e.attributes.GlobalID&&(e.attributes.photo=t.photo)}))})),e.setState({kindergartens:t.data.features,nurseries:s.data})}))}))}))}},{key:"getRandom",value:function(){for(var e=Object(b.a)(this.state.kindergartens),t=Object(b.a)(this.state.nurseries),s=[],a=[],n=0;n<4;n++){var c=[Math.floor(Math.random()*e.length)],r=[Math.floor(Math.random()*t.length)];s.push(e[c]),a.push(t[r]),e.splice(c,1),t.splice(r,1)}this.setState({kindergartens:s,nurseries:a})}},{key:"componentDidUpdate",value:function(e,t){this.state.kindergartens.length>4&&this.getRandom()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{id:"home-container",children:[Object(a.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel",children:[Object(a.jsxs)("div",{className:"carousel-inner",children:[Object(a.jsx)("div",{className:"carousel-item active",children:Object(a.jsx)("img",{src:"/images/jessica-rockowitz-5NLCaz2wJXE-unsplash.jpg",className:"d-block w-100",alt:"childrenpics"})}),Object(a.jsx)("div",{className:"carousel-item",children:Object(a.jsx)("img",{src:"/images/chewy-59TTmbSL1Yw-unsplash.jpg",className:"d-block w-100",alt:"childrenpics"})}),Object(a.jsx)("div",{className:"carousel-item",children:Object(a.jsx)("img",{src:"images/scott-webb-obKbq4Z3cuA-unsplash.jpg",className:"d-block w-100",alt:"childrenpics"})}),Object(a.jsx)("div",{className:"carousel-item",children:Object(a.jsx)("img",{src:"/images/markus-spiske-z02yFSgVRbA-unsplash.jpg",className:"d-block w-100",alt:"childrenpics"})})]}),Object(a.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(a.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(a.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(a.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(a.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(a.jsx)("span",{className:"sr-only",children:"Next"})]})]}),Object(a.jsxs)("div",{id:"img-text",className:"container",children:[Object(a.jsxs)("h1",{children:["Find the best kindergarten ",Object(a.jsx)("br",{}),"or nursery for your children!"]}),Object(a.jsxs)("p",{children:["My First School it's a platform to help parents",Object(a.jsx)("br",{})," find the best schools near their residency",Object(a.jsx)("br",{})," in a quick and intuitive way."]}),Object(a.jsx)(u.b,{to:"/nurseries",children:Object(a.jsx)("button",{className:"btn btn-light",children:"Nurseries"})}),Object(a.jsx)(u.b,{to:"/kindergartens",children:Object(a.jsx)("button",{className:"btn btn-light",children:"Kindergartens"})})]}),Object(a.jsxs)("div",{id:"nurse-kind-cards",className:"container",children:[Object(a.jsxs)("div",{id:"nursery-text",children:[Object(a.jsxs)("h2",{className:"title",children:["Featured ",Object(a.jsx)("b",{children:"Nurseries"})]}),Object(a.jsx)("p",{className:"title",children:"Find the best nurseries in Lisbon"}),Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.nurseries.map((function(e,t){return Object(a.jsxs)("div",{className:"card col-sm-3",style:{minWidth:"30vh"},children:[Object(a.jsx)("img",{src:e.photo,className:"card-img-top",id:"card-img-1",alt:"nurseries"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"/".concat(e._id),state:e},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:e.name})," "]}),Object(a.jsxs)("p",{className:"card-text",children:["\u2762 ",e.address]}),Object(a.jsxs)("p",{className:"card-text",children:["tel: ",e.phone]})]})]},t)}))})]}),Object(a.jsxs)("div",{id:"kinder-text",children:[Object(a.jsxs)("h2",{className:"title",children:["Featured ",Object(a.jsx)("b",{children:"Kindergartens"})]}),Object(a.jsx)("p",{className:"title",children:"Find the best kindergartens in Lisbon"}),Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.kindergartens.map((function(e,t){return Object(a.jsxs)("div",{className:"card col-sm-3",style:{minWidth:"30vh"},children:[Object(a.jsx)("img",{src:e.attributes.photo,className:"card-img-top",id:"card-img-2",alt:"kindergartens"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"/".concat(e.attributes.GlobalID),state:e},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:e.attributes.INF_NOME})," "]}),Object(a.jsxs)("p",{className:"card-text",children:["\u2762 ",e.attributes.INF_MORADA]}),Object(a.jsxs)("p",{className:"card-text",children:["tel:",e.attributes.INF_TELEFONE]})]})]},t)}))})]})]})]})})}}]),s}(c.a.Component),U=(s(39),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={nurseries:[],kindergartens:[]},e.addFavorite=function(t){var s=new y;e.props.loggedInUser?s.addFavorite(e.props.loggedInUser._id,t).then((function(e){console.log(e),Object(N.b)("Added to favorites")})):Object(N.b)("Login or signup please!")},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new F,s=new y;t.getAllKindergartens().then((function(t){console.log("responseKinder",t),s.getAllNurseries().then((function(s){(new y).getAll().then((function(a){t.data.features.forEach((function(e){a.data.forEach((function(t){"kindergarten"===t.schoolType&&t.GlobalID===e.attributes.GlobalID&&(e.attributes.photo=t.photo)}))})),e.setState({kindergartens:t.data.features,nurseries:s.data})}))}))}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{id:"nursery-text",children:[Object(a.jsx)("h2",{className:"title",children:Object(a.jsx)("b",{children:"Nurseries"})}),Object(a.jsx)("p",{className:"title",children:"Find the best nurseries in Lisbon"}),Object(a.jsx)("div",{id:"overlay",className:"overlay",style:{display:"none"}}),Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.nurseries.map((function(t,s){return Object(a.jsxs)("div",{className:"card col-sm-4",style:{minWidth:"55vh"},children:[Object(a.jsx)("img",{src:t.photo,className:"card-img-top",alt:"nurseries"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"/".concat(t._id),state:t},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:t.name})," "]}),Object(a.jsxs)("p",{className:"card-text",children:["\u2762 ",t.address]}),Object(a.jsxs)("p",{className:"card-text",children:["tel: ",t.phone]}),Object(a.jsx)("button",{onClick:function(){e.addFavorite(t.name)},className:"btn btn-primary",id:"btn-fav-nurse2",children:"Add to Favourites"})]})]},s)}))})]}),Object(a.jsxs)("div",{id:"kinder-text",children:[Object(a.jsx)("h2",{className:"title",children:Object(a.jsx)("b",{children:"Kindergartens"})}),Object(a.jsx)("p",{className:"title",children:"Find the best kindergartens in Lisbon"}),Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.kindergartens.map((function(t,s){return Object(a.jsxs)("div",{className:"card col-sm-4",style:{minWidth:"55vh"},children:[Object(a.jsx)("img",{src:t.attributes.photo,className:"card-img-top",alt:"kindergartens"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"/".concat(t.attributes.GlobalID),state:t},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:t.attributes.INF_NOME})," "]}),Object(a.jsxs)("p",{className:"card-text",children:["\u2762 ",t.attributes.INF_MORADA]}),Object(a.jsxs)("p",{className:"card-text",children:["tel:",t.attributes.INF_TELEFONE]}),Object(a.jsx)("button",{onClick:function(){e.addFavorite(t.attributes.INF_NOME)},className:"btn btn-primary",id:"btn-fav-nurse4",children:"Add to Favourites"})]})]},s)}))})]})]})}}]),s}(c.a.Component)),M=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={kindergartens:[],show:!0},e.clickIcon=function(){e.setState({show:!e.state.show})},e.addFavorite=function(t){var s=new y;e.props.loggedInUser?s.addFavorite(e.props.loggedInUser._id,t).then((function(e){console.log(e),Object(N.b)("Added to favorites")})):Object(N.b)("Login or signup please!")},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new F,s=new y;t.getAllKindergartens().then((function(t){console.log("responseKinder",t),s.getAllNurseries().then((function(s){(new y).getAll().then((function(s){t.data.features.forEach((function(e){s.data.forEach((function(t){"kindergarten"===t.schoolType&&t.GlobalID===e.attributes.GlobalID&&(e.attributes.photo=t.photo)}))})),e.setState({kindergartens:t.data.features})}))}))}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"title",children:Object(a.jsx)("b",{children:"Kindergartens"})}),Object(a.jsx)("p",{className:"title",children:"Find the best kindergartens in Lisbon"}),Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.kindergartens.map((function(t,s){return Object(a.jsxs)("div",{className:"card col-sm-4",style:{minWidth:"55vh"},children:[Object(a.jsx)("img",{src:t.attributes.photo,className:"card-img-top",alt:"kindergarten"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"/".concat(t.attributes.GlobalID),state:t},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:t.attributes.INF_NOME})," "]}),Object(a.jsx)("p",{className:"card-text",children:t.attributes.INF_DESCRICAO}),Object(a.jsx)("button",{onClick:function(){e.addFavorite(t.attributes.INF_NOME)},className:"btn btn-primary",id:"btn-fav-nurse3",children:"Add to Favourites"})," "]})]},s)}))})]})}}]),s}(c.a.Component),D=Object(j.f)(M),L=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={nurseries:[]},e.addFavorite=function(t){var s=new y;e.props.loggedInUser?s.addFavorite(e.props.loggedInUser._id,t).then((function(e){console.log(e),Object(N.b)("Added to favorites")})):Object(N.b)("Login or signup please!")},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;(new y).getAllNurseries().then((function(t){e.setState({nurseries:t.data})}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"title",children:Object(a.jsx)("b",{children:"Nurseries"})}),Object(a.jsx)("p",{className:"title",children:"Find the best nurseries in Lisbon"}),Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.nurseries.map((function(t,s){return Object(a.jsxs)("div",{className:"card col-sm-4",style:{minWidth:"55vh"},children:[Object(a.jsx)("img",{src:t.photo,className:"card-img-top",alt:"nursery"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"/".concat(t._id),state:t},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:t.name})," "]}),Object(a.jsx)("p",{className:"card-text",children:t.description}),Object(a.jsx)("button",{onClick:function(){e.addFavorite(t.name)},className:"btn btn-primary",id:"btn-fav-nurse",children:"Add to Favourites"})]})]},s)}))})]})}}]),s}(c.a.Component),E=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={favorites:[]},e.handleDeleteFavorite=function(t){var s=e.props.match.params.id,a=new y;console.log(t),a.deleteFavorite(t,s).then((function(){e.getFavorites2(),console.log({message:"the school was deleted"})}))},e}return Object(l.a)(s,[{key:"getFavorites2",value:function(){var e=this,t=this.props.match.params.id;(new y).getFavorites(t).then((function(t){console.log(t,"response"),e.setState({favorites:t.data})}))}},{key:"componentDidMount",value:function(){this.getFavorites2()}},{key:"render",value:function(){var e=this;return console.log(this.state,"profile state"),Object(a.jsx)("div",{className:"container",style:{minHeight:"380px"},children:Object(a.jsx)("div",{className:"card-deck d-flex flex-wrap",children:this.state.favorites.map((function(t,s){return Object(a.jsxs)("div",{className:"card col-sm-4",style:{minWidth:"30vh"},children:[Object(a.jsx)("img",{src:t.photo,className:"card-img-top",id:"card-img-top-profile",alt:"nurseries"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)(u.b,{to:{pathname:"kindergarten"===t.schoolType?"/".concat(t.GlobalID):"/".concat(t._id),state:t},children:[" ",Object(a.jsx)("h5",{className:"card-title",children:t.name})," "]}),Object(a.jsxs)("p",{className:"card-text",children:["type: ",t.schoolType]}),Object(a.jsx)("button",{id:"delete-btn",className:"btn btn-primary",onClick:function(){return e.handleDeleteFavorite(t._id)},children:"Delete Favorite"})]})]},s)}))})})}}]),s}(c.a.Component),_=Object(j.f)(E),T=s(41),R=(s(73),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={school:e.props.location.state,kindergarten:null,loaded:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;if(!this.state.school.schoolType){var t=Object(T.a)({},this.state.school);t.schoolType="kindergarten",t.GlobalID=this.state.school.attributes.GlobalID,this.setState({school:t})}var s=new F,a=new y;s.getAllKindergartens().then((function(t){console.log("responseKinder",t),a.getAllNurseries().then((function(s){(new y).getAll().then((function(s){t.data.features.forEach((function(e){s.data.forEach((function(t){"kindergarten"===t.schoolType&&t.GlobalID===e.attributes.GlobalID&&(e.attributes.photo=t.photo)}))})),e.setState({kindergartens:t.data.features,loaded:!0})}))}))}))}},{key:"componentDidUpdate",value:function(e){e.location.state!==this.props.location.state&&this.setState({school:this.props.location.state})}},{key:"render",value:function(){if("kindergarten"===this.state.school.schoolType&&this.state.loaded){var e=this.state.school.geometry.x,t=this.state.school.geometry.y;return Object(a.jsx)("div",{className:"container-flex-details",children:Object(a.jsxs)("div",{className:"details-row",children:[Object(a.jsx)("div",{className:"column-details",children:Object(a.jsx)("div",{className:"detail-photo",children:Object(a.jsx)("img",{id:"img-details",src:this.state.school.attributes.photo,alt:"index"})})}),Object(a.jsx)("div",{className:"column-details",children:Object(a.jsxs)("div",{className:"text-details",children:[Object(a.jsxs)("h2",{children:[" ",this.state.school.attributes.INF_NOME]})," ",Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:this.state.school.attributes.INF_DESCRICAO}),Object(a.jsxs)("p",{children:["Address: ",this.state.school.attributes.INF_MORADA]}),Object(a.jsx)("p",{}),Object(a.jsxs)("p",{children:["Email: ",this.state.school.attributes.INF_EMAIL]}),Object(a.jsxs)("p",{children:["Tel: ",this.state.school.attributes.INF_TELEFONE]})," ",Object(a.jsx)("br",{}),Object(a.jsxs)("p",{className:"detail-footer",children:[" ",Object(a.jsx)("a",{href:this.state.school.attributes.INF_SITE,target:"_blank",rel:"noreferrer",children:"WebSite"})," ","||"," ",Object(a.jsx)("a",{href:"http://maps.google.com/maps?q=".concat(t,", ").concat(e),target:"_blank",rel:"noreferrer",children:"See on the Map"})]})]})})]})})}return"nursery"===this.state.school.schoolType?Object(a.jsx)("div",{className:"container-flex-details",children:Object(a.jsxs)("div",{className:"details-row",children:[Object(a.jsx)("div",{className:"column-details",children:Object(a.jsx)("div",{className:"detail-photo",children:Object(a.jsx)("img",{src:this.state.school.photo,alt:"index"})})}),Object(a.jsx)("div",{className:"column-details",children:Object(a.jsxs)("div",{className:"text-details",children:[Object(a.jsxs)("h2",{children:[" ",this.state.school.name]})," ",Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:this.state.school.description}),Object(a.jsxs)("p",{children:["Address: ",this.state.school.address]}),Object(a.jsxs)("p",{children:["Email: ",this.state.school.email]}),Object(a.jsxs)("p",{children:["Tel: ",this.state.school.phone]})," ",Object(a.jsx)("br",{}),Object(a.jsxs)("p",{className:"detail-footer",children:[" ",Object(a.jsx)("a",{href:this.state.school.site,target:"_blank",rel:"noreferrer",children:"WebSite"})," ","||"," ",Object(a.jsxs)("a",{href:"http://maps.google.com/maps?q=".concat(this.state.school.geo.lat,", ").concat(this.state.school.geo.lng),target:"_blank",rel:"noreferrer",children:["See on the Map"," "]})]})]})})]})}):Object(a.jsx)("p",{children:"Loading"})}}]),s}(c.a.Component)),G=Object(j.f)(R),K=(s(74),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"bottom-section",children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-sm",children:[Object(a.jsx)("h5",{className:"bottom-h5",children:Object(a.jsx)("div",{className:"nav-bar-logo-foot",children:"My First School"})}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"About"}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"Blog"}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"Contact us"}),Object(a.jsx)("hr",{})]}),Object(a.jsxs)("div",{className:"col-sm",children:[Object(a.jsx)("h5",{className:"bottom-h5",children:"FOLLOW US"}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:Object(a.jsx)("img",{id:"fb-icon",src:"/Icons/fb-icon.png",alt:"facebook-icon",style:{width:"30px",height:"23px"}})}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:Object(a.jsx)("img",{src:"/Icons/ig vector.jpeg",alt:"IG-icon",style:{width:"25px",height:"22px",bottom:"5px"}})}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:Object(a.jsx)("img",{src:"/Icons/lkin 8.png",alt:"linkedIn-icon",style:{width:"26px",height:"24px",bottom:"5px"}})}),Object(a.jsx)("hr",{})]}),Object(a.jsxs)("div",{className:"col-sm",children:[Object(a.jsx)("h5",{className:"bottom-h5",children:"APP"}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"App Store"}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"Google Play"}),Object(a.jsx)("hr",{})]}),Object(a.jsxs)("div",{className:"col-sm",children:[Object(a.jsx)("h5",{className:"bottom-h5",children:"TERMS & CONDITIONS"}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"Support"}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"Privacy"}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/",className:"bottom-p",children:"Terms"}),Object(a.jsx)("hr",{})]})]})}),Object(a.jsx)("footer",{children:Object(a.jsx)("div",{id:"footer-p",children:Object(a.jsxs)("p",{children:["By: Miguel Tom\xe9 & Rodrigo Prud\xeancio.",Object(a.jsx)("br",{})," Copyright \xa9 2020 Ironhack. All rights reserved."]})})})]})}}]),s}(c.a.Component)),z=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new g).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data._id)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(N.a,{}),Object(a.jsx)(w,{loggedInUser:this.state.loggedInUser,setCurrentUser:this.setCurrentUser}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",component:A}),Object(a.jsx)(j.a,{path:"/signup",render:function(){return Object(a.jsx)(C,{setCurrentUser:e.setCurrentUser})}}),Object(a.jsx)(j.a,{path:"/kindergartens",render:function(){return Object(a.jsx)(D,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.a,{path:"/nurseries",render:function(){return Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.a,{path:"/login",render:function(){return Object(a.jsx)(S,{setCurrentUser:e.setCurrentUser})}}),Object(a.jsx)(j.a,{path:"/schools",render:function(){return Object(a.jsx)(U,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.a,{path:"/login-google",render:function(){window.location.href="".concat("https://myfirstschool.herokuapp.com","/api/auth/google")}}),Object(a.jsx)(j.a,{path:"/profile/:id",render:function(){return Object(a.jsx)(_,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.a,{path:"/:id",component:G})]}),Object(a.jsx)(K,{loggedInUser:this.state.loggedInUser,setCurrentUser:this.setCurrentUser})]})}}]),s}(c.a.Component),W=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,84)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};s(75),s(76);i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(u.a,{children:Object(a.jsx)(z,{})})}),document.getElementById("root")),W()}},[[79,1,2]]]);
//# sourceMappingURL=main.e623827c.chunk.js.map